services:
  # Configuración del servidor
  server:
    env:
      # Variables de entorno necesarias para el servidor
      PORT: ${{ process.env.PORT || 4000}}
      DB_HOST: ${{ process.env.DB_HOST || "videntcusco.com" }}
      DB_USER: ${{ process.env.DB_USER || "videntcu_olmer" }}
      DB_PASSWORD: ${{ process.env.DB_PASSWORD || "Jg@MD6EehmHBWwQ" }}
      DB_NAME: ${{ process.env.DB_NAME || "videntcu_olmer" }}
      DB_PORT: ${{ process.env.DB_PORT || 3306 }}
    # Comando de construcción y de inicio del servidor
    buildScript: npm install
    run: npm start

  # Configuración del cliente
  client:
    # Comando de construcción y de inicio del cliente
    buildScript: npm install && npm run build
    # Dirección del directorio de construcción del cliente
    output: ./client/dist
    run:
      command: npm start
